<script lang="ts">
  import { Button as ButtonPrimitive } from 'bits-ui'
  import type { Snippet } from 'svelte'

  import { cn } from '../../utils'
  import { buttonVariants, type Events, type Props } from './index.js'

  type $$Props = Props
  type $$Events = Events

  interface ButtonProps {
    class?: $$Props['class']
    variant?: $$Props['variant']
    size?: $$Props['size']
    color?: $$Props['color']
    builders?: $$Props['builders']
    children?: Snippet
    [key: string]: unknown
  }

  let {
    class: className = undefined,
    variant = 'solid',
    size = 'default',
    color = 'primary',
    builders = [],
    children,
    ...rest
  }: ButtonProps = $props()
</script>

<ButtonPrimitive.Root
  {builders}
  class={cn(buttonVariants({ variant, size, color, className }))}
  type="button"
  {...rest}
  {onclick}
  {onkeydown}
>
  {@render children?.()}
</ButtonPrimitive.Root>
